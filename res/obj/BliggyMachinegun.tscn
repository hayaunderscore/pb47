[gd_scene load_steps=12 format=3 uid="uid://cesjt2b6pstuk"]

[ext_resource type="Script" path="res://scripts/ent/gun.gd" id="1_02k7q"]
[ext_resource type="Texture2D" uid="uid://cuh5whpmcfwg8" path="res://gfx/caret/guns.png" id="2_1nt5l"]
[ext_resource type="Script" path="res://addons/projectiles_plugin/2d/patterns/pattern_shooter2d.gd" id="3_354rt"]
[ext_resource type="Script" path="res://addons/projectiles_plugin/2d/patterns/pattern_elem2d.gd" id="4_c6qhl"]
[ext_resource type="PackedScene" uid="uid://bps4iitkb4qtr" path="res://res/obj/Bullets/MachineBullet.tscn" id="5_1gk52"]
[ext_resource type="Script" path="res://addons/projectiles_plugin/2d/trajectories/linear_trajectory2d.gd" id="6_f58au"]
[ext_resource type="Script" path="res://addons/projectiles_plugin/2d/patterns/pattern2d.gd" id="7_d3pef"]
[ext_resource type="FontFile" uid="uid://b8jlvkt173fm0" path="res://gfx/font/m3x6.ttf" id="8_ki1rx"]

[sub_resource type="Resource" id="Resource_u88d1"]
script = ExtResource("6_f58au")

[sub_resource type="Resource" id="Resource_wql5q"]
script = ExtResource("4_c6qhl")
projectile = ExtResource("5_1gk52")
position = Vector2(0, 0)
angle = 0.0
trajectory = SubResource("Resource_u88d1")
speed = 600.0
range = 1024.0
spawn_delay = 0.0
travel_delay = 0.0
rand_spread = 0.0
target_group = ""

[sub_resource type="Resource" id="Resource_bda34"]
script = ExtResource("7_d3pef")
data = Array[ExtResource("4_c6qhl")]([SubResource("Resource_wql5q")])

[node name="Machinegun" type="Node2D"]
script = ExtResource("1_02k7q")
id = 1
max_ammo = 100
recoil_offset = 12
recoil_rotation = 5
offset_speed = 0.51

[node name="SpritePivot" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="SpritePivot" groups=["GunGroup"]]
position = Vector2(1, -9)
texture = ExtResource("2_1nt5l")
centered = false
region_enabled = true
region_rect = Rect2(58, 21, 42, 18)

[node name="ShootPoint" type="Node2D" parent="."]
position = Vector2(36, 3)
script = ExtResource("3_354rt")
pattern = SubResource("Resource_bda34")

[node name="AmmoCounter" type="Node2D" parent="."]
position = Vector2(24, -11)
metadata/_edit_group_ = true

[node name="Ammo" type="RichTextLabel" parent="AmmoCounter"]
layout_direction = 2
offset_left = -8.0
offset_top = -7.0
offset_right = 8.0
offset_bottom = 6.0
theme_override_fonts/normal_font = ExtResource("8_ki1rx")
bbcode_enabled = true
fit_content = true
metadata/_edit_use_anchors_ = true
